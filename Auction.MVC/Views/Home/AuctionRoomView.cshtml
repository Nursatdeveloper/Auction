@model Auction.MVC.AuctionRoomViewDto

@{
    var userFio = User.Identity.Name;
    var userIin = User.Claims.First(x => x.Type == "Iin").Value;
}

<h4>Auction Room</h4>
<div class="container">
    <div class="row">
        <div class="col-4">
            <h5>Trade Info</h5>
            <div class="form-group">
                <label asp-for="Trade.TradeId">Trade Id</label>
                <input class="form-control" type="text" asp-for="Trade.TradeId" name="ObjectId" id="tradeId" value="@Model.Trade.TradeId" disabled />
            </div>
            <div class="form-group">
                <label asp-for="Trade.Name">Name</label>
                <input class="form-control" type="text" asp-for="Trade.Name" name="Name" value="@Model.Trade.Name" disabled />
            </div>
            <div class="form-group">
                <label asp-for="Trade.Price">Price</label>
                <input class="form-control" type="text" asp-for="Trade.Price" name="Price" value="@Model.Trade.Price" disabled />
            </div>
            <div class="form-group">
                <label asp-for="Trade.Type">Type</label>
                <input class="form-control" type="text" asp-for="Trade.Type" name="Type" value="@Model.Trade.Type" disabled />
            </div>
            <div class="form-group">
                <label asp-for="Trade.AuctionDate">Auction date</label>
                <input class="form-control" type="text" asp-for="Trade.AuctionDate" name="AuctionDate" value="@Model.Trade.AuctionDate" disabled />
            </div>
            <div class="form-group">
                <label asp-for="Trade.EndDate">End date</label>
                <input class="form-control" type="text" asp-for="Trade.EndDate" name="EndDate" value="@Model.Trade.EndDate" disabled />
            </div>
        </div>
        <div class="col-4">
            <h5>Auction</h5>
            <div class="border p-2 mt-3 h-100">
                <div id="auction-info"></div>
            </div>
            <div class="mt-1 d-flex">
                <div class="w-50">
                    <input type="number" class="form-control mr-1" id="newAmount" />
                    <input type="hidden" id="userFio" value="@userFio" />
                    <input type="hidden" id="userIin" value="@userIin" />
                </div>
                <div class="w-25">
                    
                    <button class="btn btn-primary w-100 mr-1" id="sendButton">Increase</button>
                </div>
                <div class="w-25">
                    <a class="btn btn-danger w-100" id="leaveButton" asp-action="TradeView" asp-route-tradeId="@Model.Trade.TradeId">Leave</a>
                </div>
            </div>
        </div>
        <div class="col-4">
            <h5>Participants</h5>
            @for(int i = 0; i < Model.Participants.Length; i++) {
                <div>@(i+1). Name: @Model.Participants[i].Fio Iin: @Model.Participants[i].Iin Balance: @Model.Participants[i].Balance </div>
            }
        </div>
    </div>
</div>
